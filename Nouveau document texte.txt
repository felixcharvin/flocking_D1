let coeff1 0
let coeff2 0
ask robots [
if count flockmates > 0 [
  let mean-sin mean [sin heading] of flockmates
  let mean-cos mean [cos heading] of flockmates
  set coeff1 coeff1 + 1 / (1 + abs (heading - (atan mean-sin mean-cos)))
]
set coeff2 coeff2 + 1 / (1 + count robots in-radius 0.8 * minimum-separation)
]
set coeff1 (coeff1 / count robots)
set coeff2 (coeff2 / count robots)
plot 100 * coeff1 * coeff2 * (1 - coeff2)